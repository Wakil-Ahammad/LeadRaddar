spring:
  application:
    name: lead-radar

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  # ── JPA ──
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC

  # ── Flyway ──
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  # ── Jackson ──
  jackson:
    serialization:
      write-dates-as-timestamps: false
    default-property-inclusion: non_null

# ── Server ──
server:
  port: ${SERVER_PORT:8080}
  error:
    include-message: always
    include-binding-errors: always

# ── JWT ──
app:
  jwt:
    secret: ${JWT_SECRET:defaultDevSecretKeyThatIsAtLeast256BitsLongForHS256Algorithm}
    expiration-ms: ${JWT_EXPIRATION_MS:86400000}

  # ── OpenAI ──
  openai:
    api-key: ${OPENAI_API_KEY:}
    model: ${OPENAI_MODEL:gpt-4o-mini}
    base-url: https://api.openai.com/v1

  # ── Reddit ──
  reddit:
    client-id: ${REDDIT_CLIENT_ID:}
    client-secret: ${REDDIT_CLIENT_SECRET:}
    user-agent: LeadRadar/1.0
    subreddits:
      - forhire
      - startups
      - SaaS
      - webdev
      - cofounder
      - smallbusiness
      - Entrepreneurs

  # ── RSS Feeds ──
  rss:
    feeds:
      - url: https://hnrss.org/newest?q=looking+for+developer
        platform: hackernews
      - url: https://dev.to/feed/tag/hiring
        platform: devto
      - url: https://dev.to/feed/tag/webdev
        platform: devto
      - url: https://medium.com/feed/tag/startup
        platform: medium

  # ── Stripe ──
  stripe:
    secret-key: ${STRIPE_SECRET_KEY:}
    webhook-secret: ${STRIPE_WEBHOOK_SECRET:}

  # ── Collector Schedule ──
  collector:
    cron: ${COLLECTOR_CRON:0 0 0 * * *}

# ── Logging ──
logging:
  level:
    com.leadradar: DEBUG
    org.springframework.security: INFO
    org.flywaydb: INFO
